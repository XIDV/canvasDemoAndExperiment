<!DOCTYPE HTML>
<html lang="de">

<!--                                                      head-section -->
    <head>
        <title>Das canvas-Element</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Sebastian Peschl">
        <meta name="description" content="Demos und Experimente mit dem canvas-Element.">
        <meta name="generator" content="Visual Studio Code">
        
        <link rel="shortcut icon" href="src/media/img/XIDV_Logo_final.svg" type="image/x-icon">
        <link rel="stylesheet" href="/src/css/style.css">

    </head>

<!--                                                      body-section -->
    <body>
        <div id="pageWrapper">
            <header id="pageHeader">
                <div id="headerTitle">Das <code>canvas</code>-Element</div>
                <div id="headerSubtitle">Demos und Experimente mit dem canvas-Element.</div>
            </header>

            <!-- <nav id="mainNav"></nav> -->

            <main>
                
                <section class="mainContent" id="primaryContent">
                    <header class="sectionHeader">
                        <h1 class="sectionTitle">Bitmap-Grafiken dynamisch erstellt</h1>
                        <div class="sectionSubtitle"><!-- INSERT SUBTITLE HERE --></div>
                    </header>
                    <div class="sectionContentText">
                        <p>
                            Das <code>canvas</code>-Element stellt quasi eine Programmierschnittstelle zum dynmaischen erstellen und anzeigen von Pixelgrafiken bereit. Der eigentliche Content wird via JavaScript erstellt. Es stellt einen Gegensatz zum SVG-Format dar, welches XML-basiert ist.
                        </p>
                    </div>
                </section>

                <section class="mainContent">
                    <header class="sectionHeader">
                        <h2 class="sectionTitle">Beispiele</h2>
                        <div class="sectionSubtitle"><!-- INSERT SUBTITLE HERE --></div>
                    </header>
                    <div class="sectionContentText">
                        <p>
                            <!-- INSERT CONTENT HERE -->
                        </p>
                    </div>

                    <article class="demoBox" id="bsplOneA">
                        <header class="demoBoxHeader">
                            <h3 class="artTitle">Beispiel A</h3>
                            <div class="artSubtitle">Linien und einfache Formen in einem <code>canvas</code>-Elment mit fester Breite und Höhe.</div>
                        </header>
                        <div class="sandboxContainer">

                            <canvas id="bspl1aCanvas" width="400" height="200">
                                <p>
                                    Ihr Browser unterstützt das <code>canvas</code>-Elment nicht.
                                </p>
                            </canvas>

                        </div>
                        
                        <div class="infoBox">
                            <details>
                                <summary>
                                    Rechteck, Quadrat und zwei Pfade aus Linien.
                                </summary>
                                <p>
                                    Zum erstellen des grünen Rechtecks wird zuerst der Wert des <code>fillStyle</code>-Attributs des CanvasRenderingContext2D-Objektes (<code>context</code>) mittels Angabe eines HSLA-Wertes eingestellt. <br>
                                    Anschließend wird die Methode <code>fillFrect()</code> aufgerufen. Dieser werden vier Parameter übergeben. Die ersten beiden sind die Startkoordianten (x/y), die nächsten zwei (hier 360 und 80) sind <strong>Längenangaben</strong>, jeweils in x- und y-Richtung. <strong>Das sind <u>keine</u> Endkoordinaten</strong>! <br>
                                    Die rechnerischen Endkoordinaten wären in diesem Fall (20 + 360 und 20 + 80) <strong>x=380 und y=100</strong>.
                                </p>
                            </details>
                        </div>

                    </article>

                    <article class="demoBox" id="bsplOneB">
                        <header class="demoBoxHeader">
                            <h3 class="artTitle">Beispiel B</h3>
                            <div class="artSubtitle">Text und Logo</div>
                        </header>
                        <div class="sandboxContainer">

                            <canvas id="bspl1bCanvas" width="500" height="80">
                                <p>
                                    Ihr Browser unterstützt das <code>canvas</code>-Elment nicht.
                                </p>
                            </canvas>

                        </div>
                        
                        <div class="infoBox">
                            <details>
                                <summary>
                                    Ausgabe von Text, einm Pfad bestehend aus Linien, sowie ein Rechteck und ein Dreieck
                                </summary>
                                <p>
                                    Für die Ausgabe von Text wird zuerst die Füllfarbe via <code>fillStyle</code>, der Font via <code>font</code> sowie die Grundlinie via <code>textBaseline</code> definiert.
                                </p>
                                <p>
                                    Die Ausgabe des Pfades durch Linien wird wie zuvor bei Beispiel 1A realisiert.
                                </p>
                                <h4>Ausgabe eines Rechtecks</h4>
                                <p>Hier wird im Vorfeld mit <code>save()</code> der Zeichenstatus (drawing state) gespeichert, welcher später mit <code>restore() wiederhergestellt werden kann.</code><br>Welche Eigenschaften des CanvasRenderingContext2D alle gespeichert werden können entnehmen Sie bitte <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/save" target="_blank">hier</a> der Dokumentation.</p>
                                <p>Außerdem wird vor der Ausgabe des Rechtecks mit <code>translate()</code> der der Canvas (und dessen Koordiantenursprung) entsprechend der spezifizierten Werte verschoben.</p>
                                <p>Der Ursprung des Rechtecks, welches nun ausgegeben wird befindet sich (relativ gesehen) bei x=0, y=0. Berücksichtigt man jedoch die zuvor durchgefürte Verschiebung des Canvas, so befindet sich der Ursprung des Rechtecks (global betrachtet) bei x=20, y=4.</p>
                                
                                <h4>Ausgabe eines Dreiecks</h4>
                                <p>Nach der Definition einer Füllfarbe und und einer Linienstärke mit <code>lineWidth = 1;</code>, wobei letzteres eigentlich überflüssig ist, da im Folgenden keine Kontur, sondern eine dreieckige Fläche ausgegeben wird, erfolgt eine weitere Speicherung des Zeichenstatus des Canvas.</p>
                                <p>Nach einer weiteren Verschiebung des CanvasRenderingContext2D wird mit <code>beginPath()</code> mit der Definition eines neuen Pfades begonnen. <br> Auf <code>moveTo(0, 0)</code> <strong><u>oder</u></strong> <code>lineTo(0, 0)</code> könnte in diesem Fall verzichtet werden.</p>
                                <p>Mit <code>fill()</code> wird die dreieckige Fläche auf den Canvas gezeichnet und mit <code>closePath()</code> die Pfaderstellung beendet</p>
                                <p>Abschließend wird der CanvasRenderingContext2D auf den letzten Wiederherstellungspunkt zurückgesetzt. Es gelten nun also wieder die Parameter wie bei der Erstellung des Rechtecks.</p>
                            </details>
                        </div>

                    </article>

                    <article class="demoBox" id="bsplOneC">
                        <header class="demoBoxHeader">
                            <h3 class="artTitle">Beispiel C</h3>
                            <div class="artSubtitle">Animation von Canvas (unter Verwendung von <code>setInterval()</code>)</div>
                        </header>
                        <div class="sandboxContainer">

                            <canvas id="bspl1cCanvas" width="400" height="300">
                                <p>
                                    Ihr Browser unterstützt das <code>canvas</code>-Elment nicht.
                                </p>
                            </canvas>

                        </div>
                        
                        <div class="infoBox">
                            <p>Hier wird ein Farbwechsel und eine kontinuierliche Vergrößerung und Verkleinerung des Quadrates mit <code>setInterval()</code> realisiert. Dieser Ansatz in jedoch nicht zweckmäßig.</p>
                            <p>Im folgenden Beispiel wird auf die Methode <code>requestAnimationFrame()</code> zurückgegriffen, welche für diese Aufgabe besser geeignet ist.</p>
                        </div>

                    </article>

                    <article class="demoBox" id="bsplOneD">
                        <header class="demoBoxHeader">
                            <h3 class="artTitle">Beispiel D</h3>
                            <div class="artSubtitle">Animation von Canvas (unter Verwendung von <code>requestAnimationFrame()</code>)</div>
                        </header>
                        <div class="sandboxContainer">

                            <canvas id="bspl1dCanvas" width="400" height="300">
                                <p>
                                    Ihr Browser unterstützt das <code>canvas</code>-Elment nicht.
                                </p>
                            </canvas>
                            <button type="button" id="stopBspl1dAnim">Stop Animation!</button>
                            <p>(Seite neuladen f. Neustart d. Animation)</p>
                        </div>
                        
                        <div class="infoBox">
                            <details>
                                <summary>
                                    Animierte Anzeige der akutellen Zeit innerhalb eines <code>canvas</code>-Elements.
                                </summary>
                                <p>
                                    Zunächst wird das <code>canvas</code>-Element in der Konstanten <code>bspl1dCanvas</code> gesichert.
                                </p>
                                <h4>Die Methode <code>requestAnimationFrame()</code></h4>
                                <p>
                                    Das <code>window</code>-Objekt hält die Methode <code>requestAnimationFrame()</code> bereit und bietet, ähnlich wie <code>setTimeout()</code>, die Möglichkeit Funktionen zeitlich verzögert auszuführen. Diese Methode benötigt als <i>callback</i> ein <strong>Funktionsobjekt</strong>. (hier: Funktonsname ohne rundes Klammerpaar und Anführungszeichen.) <br>
                                    Diese ist hier die Funktion <code>redrawBspl1d()</code>
                                </p>
                                <p>
                                    Die Methode liefert als Rückgabewert eine <code>requestID</code> zurück. Diese wird (später) als Parameter f. d. Methode <code>cancelAnimationFrame()</code> benötigt um die Animation zu beenden.
                                </p>
                                <h4>Die Funktion <code>redrawBspl1d()</code></h4>
                                <p>
                                    Mithilfe der Konstanten <code>time</code> vom Typ <code>Date()</code> und desen Methoden werden die Konstanten <code>lineLength</code> und <code>lineHeight</code> initialisiert. <br>
                                    Für die Generierung einer HSL-Zufallsfarbe wird zur Ermittlung eines zufälligen Hue-Wertes auf die Funktion <code>getRandomInt()</code> zurückgegriffen.
                                </p>
                                <p>
                                    Der CanvasRenderingContext2D wird der Konstanten <code>context</code> zugewiesen und es erfolgt nach der Löschung des Canvas eine grundlegende Intialisierung der <code>context</code>-Eigenschaften <code>strokeStyle</code> und <code>fillStyle</code>, bevor dieser mittels <code>save()</code> gesichert wird.
                                </p>
                                <p>
                                    Die Nachfolgenden Anweisungen sind weitestgehend Selbsterklärend. Wichtig ist hier lediglich, dass die Veränderungen in der grafischen und textlichen Elemente des Canvas in zeitliche Abhängigkeit gebracht sind. So definiert sich die zunehmende Länge des Sekundenbalkens gemäß dem ermittelten und modifizierten Wert der Millisekunden des <code>Date()</code>-Objektes <code>time</code>.
                                </p>
                                <p>
                                    In der letzten Zeile der Funktion geschehen zwei wesentliche Dinge.
                                </p>
                                <ol>
                                    <li>
                                        Der Wert der Variablen <code>requestID</code> wird aktualisiert (um die Animation bei Bedarf mittels <code>cancelAnimationFrame()</code> beenden zu können).
                                    </li>
                                    <li>
                                        Andererseits ruft sich die Funktion selbst erneut auf damit die Animation kontinuierlich fortgesetzt wird.
                                    </li>
                                </ol>
                                <h4>Beenden d. Animation mit <code>cancelAnimationFrame()</code></h4>
                                <p>
                                    Der Button mit der ID <code>stopBspl1dAnim</code> erhält einen EventListener vom Typ <code>'click'</code> und als <i>callback</i> die Funktion <code>stopAnim1d()</code>.
                                </p>
                                <p>
                                    Die Funktion prüft zuerst ob <code>requestID</code> überhaupt initialisiert wurde. Wenn das der Fall ist wird die Methode <code>cancelAnimationFrame()</code> des <code>window</code>-Objektes aufgerufen. <br>
                                    Diese erhält als Parameter den Wert von <code>requestID</code>. Aus diesem Grund ist so wichtig, das bei jedem Aufruf von <code>requestAnimationFrame()</code> dieser Wert aktualisiert wird, da sich dieser stetig verändert.
                                </p>

                            </details>
                        </div>

                    </article>

                    <article class="demoBox" id="bsplOneE">
                        <header class="demoBoxHeader">
                            <h3 class="artTitle">Beispiel E</h3>
                            <div class="artSubtitle">Rundungen, Kreise und Bögen</div>
                        </header>
                        <div class="sandboxContainer">

                            <canvas id="bspl1eCanvas" width="400" height="300">
                                <p>
                                    Ihr Browser unterstützt das <code>canvas</code>-Elment nicht.
                                </p>
                            </canvas>

                        </div>
                        
                        <div class="infoBox">
                            <details>
                                <summary>
                                    Kreise, Rundungen und Kurven
                                </summary>
                                <h4>Kreis</h4>
                                <p>
                                    Die Ausgabe von Kreisen, bzw. Kreisbögen erfolgt mit der Methode <code>arc()</code>. Diese verlangt vier Parameter. Die ersten beiden definieren die Koordiaten des Kreismittelpunktes, die anderen beiden Anderen stellen den Start- und Endwinkel dar. Hierbei ist zu beachten, das diese Angaben im Bogenmaß anzugeben sind.
                                </p>
                                <p>
                                    Optional kann ein fünfter Parameter hinzugefügt werden, welcher definiert ob der Kreis, bzw. Bogen im, oder engegen dem Uhrzeigersinn gezeichnet werden soll. Dieser Parameter ist als boolscher Wert anzugeben. <code>true</code> bedeutet in diesem Zusammenhang, dass der Kreis/Bogen <strong>entgegen</strong> dem Uhrzeigersinn gezeichnet wird.
                                </p>
                                <h4>Rundungen</h4>
                                <p>
                                    Rundungen werden hier anhand einer, mit Hilfe eines Pfades konstruierten, Fläche demonstriert. <br>
                                    Die Rundungen werden mit Hilfe der Methode <code>arc()</code> erzeugt.
                                </p>
                                <h4>Bézier-Kurve</h4>
                                <p>
                                    Die Ausgabe einer Bézier-Kurve wird mit Hilfe der Methode <code>bezierCurveTo()</code> erzielt. <br>
                                    Die Methode benötigt sechs Parameter. Die ersten vier stellen jeweils die Koordinatenpaare für die Kontrollpunkte 1 und 2 dar. Die letzten Beiden definieren den Endpunkt der Kurve.
                                </p>
                                <h4>Quadratische Kurve</h4>
                                <p>
                                    Eine quadratische Kurve wird mit der Methode <code>quadraticCourveTo()</code> ausgegeben. <br>
                                    Diese Methode verlangt lediglich vier Prameter, da diese nur über einen Kontrollpunkt verfügt. Dieser wird durch die ersten beiden Parameter repräsentiert. Der verbleibenden beiden stellen, wie zuvor bei <code>bezierCurveTo()</code> den Endpunkt der Kurve dar.
                                </p>
                            </details>
                        </div>

                    </article>

                    <article class="demoBox" id="bsplOneF">
                        <header class="demoBoxHeader">
                            <h3 class="artTitle">Beispiel F</h3>
                            <div class="artSubtitle">Dynamische Anpassung grafischer Elemente</div>
                        </header>
                        <div class="sandboxContainer">

                            <canvas id="bspl1fCanvas" width="500" height="300">
                                <p>
                                    Ihr Browser unterstützt das <code>canvas</code>-Elment nicht.
                                </p>
                            </canvas>
                            <form class="bspl1fForm">
                                <fieldset>
                                    <legend>Parameter anpassen</legend>
                                    <div class="iElContainer">
                                        <label for="ampSlider">Amplitude</label>
                                        <input type="range" name="ampSlider" id="ampSlider" min="0" max="120" value="50">
                                        <input type="text" name="ampDisp" id="ampDisp" value="50 V" disabled>
                                    </div>
                                    <div class="iElContainer">
                                        <label for="freqSlider">Frequenz</label>
                                        <input type="range" name="freqSlider" id="freqSlider" min="1" max="10" step=".1" value="1">
                                        <input type="text" name="freqDisp" id="freqDisp" value="1.0 Hz" disabled>
                                    </div>
                                </fieldset>
                            </form>
                            
                        </div>
                        
                        <div class="infoBox">
                            <details>
                                <summary>
                                    Ausgabe einer Darstellung einer Wechselspannung in einem Koordinatensystem und Einstellungsmöglichkeiten der Werte für Volt(V) und Frequenz(Hz).
                                </summary>
                                <p>
                                    Einstiegspunkt ist, sowohl bei der Initialisierung, als auch bei Abfrage von <code>input</code>-Events für die Slider zur Einstellung v. Amplitude (<code>ampSlider</code>) und Frequenz (<code>freqSlider</code>) die Funktion <code>drawBspl1fDrawGraph()</code>. Diese ist für die Darstellung des Graphen zustädig. Außerdem erfolgt hierüber der Aufruf d. Funktion <code>drawBspl1fKoordSystem()</code> welche die Ausgabe des Koordinatensystems übernimmt.
                                </p>
                                <h4>Die Funktion <code>drawBspl1fDrawGraph()</code></h4>
                                <p>
                                    Die Funktion benötigt drei Parameter.
                                </p>
                                <ul>
                                    <li>Das Canvas-Element, hier <code>bspl1fCanvas</code> ...</li>
                                    <li>und je einen Wert für die Amplitude (<code>amp</code>) und die Frequenz (<code>freq</code>).</li>
                                </ul>
                                <p>
                                    Da bem laden der Seite, d. h. beim initialen Aufruf d. Funktion noch keine (vom User definierten) Werte vorliegen, werden die <code>value</code>-Werte der Eingabeslider als Default-Werte verwendet.
                                </p>
                                <p>
                                    Im ersten Schritt wird die Schrittweite (<code>step</code>) berechnet. Diese ist der Quotient aus der Länge einer <strong>halben</strong> 1 Hz-Welle (100) auf dem Canvas-Element und dem Wert von <code>freq</code>, also der eingestellten Frequenz.
                                </p>
                                <p>
                                    Die Konstante <code>ctx</code> f. den CanvasRenderingContext2D wird deklariert und initialisiert. Zudem wird mit mit <code>clearRect()</code> der Canvas für eine neue Zeichnung vorbereitet.
                                </p>
                                <p>
                                    Mit dem Aufruf d. Funktion <code>drawBspl1fKoordSystem()</code> wird das Koordinatensystem auf den Canvas gezeichnet. (s. nächster Abschnitt)
                                </p>
                                <p>
                                    Nach der Sicherung des CanvasRenderingContext2D mittels <code>save()</code> wird dessen Ursprung mit <code>translate()</code> auf den Ursprung des zuvor generierten Koordinatensystems gesetzt. Nun kann mit dem Zeichnen des Graphen begonnen werden.
                                </p>
                                <p>
                                    Aufgrund der Tatsache, dass sich die Kruve bei ansteigender Frequenz in x-Richtung zusammenzieht, muss dafür gesorgt werden, dass sich diese wiederholt um den zur Verfügung stehenden Platz auszufüllen. <br>
                                    Um diesem Problem zu begegnen wird die Konstante <code>interval</code> deklariert und initialisiert. Entweder mit dem Wert 2, oder mit dem Quotienten aus einem fixen Wert (600) und dem Wert der globalen Hilfsvariablen <code>curveEndPoint</code> welcher die Gesamtlaufweite der Kurve definiert. Entsprechend dem, auf eine Ganzzahl gerundeten Wert von <code>interval</code> werden die folgenden Anweisungen oft wiederholt.
                                </p>
                                <p>
                                    Die Darstellung der Sinuskurve wird im Folgenden durch Verwendung der Methode <code>quadraticCourveTo()</code> realisiert. Für die Darstellung werden zwei dieser Kurven benötigt. Eine f. d. positiven Bereich der Welle, die Andere f. den negativen Bereich. <br>
                                    Die Anweisungen zur Ausgabe der Kurve sind weitestgehend selbsterklärend. <br>
                                    Am Ende der <code>for</code>-Schleife wird in einem ersten Schritt die Variable <code>curveEndPoint</code>, entsprechend der neu berechneten Gesamtlaufweite der Welle, aktualisiert. <br>
                                    Im zweiten Schritt wird wird der CanvasRenderingContext2D um eben diesn Wert in x-Richtung verschoben. Somit wird bei einem weiteren Schleifendurchlauf eine neue Welle exakt an das Ende vorausgegangenen angefügt.
                                </p>
                                <h4>Die Funktion <code>drawBspl1fKoordSystem()</code></h4>
                                <p>
                                    Diese Funktion zeichnet das Koordinatensystem (Achsen, Beschriftungen, Markierungn) auf den Canvas. <br>
                                    Die Generierung der Markierungen wird jeweils für x- und y-Achse sepearat innerhalb von Schleifen realisiert. Im Fall der Markierungen f. d. x-Achse wird der CanvasRenderingContext2D temporär auf den Koordiantenursprung verschoben.
                                </p>
                                <h4>EventListener für Eingabeslider</h4>
                                <p>
                                    Hier kommen EventListener vom Typ <code>input</code> zum Einsatz um unmittelbar auf Eingaben reagieren zu können. <br>
                                    Einerseits werden die jeweiligen Anzeige-Elemente <code>#freqDisp</code> und <code>#ampDisp</code> bzgl. deren <code>value</code>-Eigenschaften modifiziert, andererseits erfolgt jeweils der Aufruf der Funktion <code>drawBspl1fDrawGraph()</code> mit den entsprechenden Parametern.
                                </p>
                            </details>
                        </div>

                    </article>

                    <article class="demoBox" id="bsplOneG">
                        <header class="demoBoxHeader">
                            <h3 class="artTitle">Beispiel G</h3>
                            <div class="artSubtitle">Eine einfache Paint-Applikation</div>
                        </header>
                        <div class="sandboxContainer" id="bspl1gSandbox">
                            <div id="paintCanvasContainer">
                                <canvas id="bspl1gCanvas">
                                    <p>
                                        Ihr Browser unterstützt das <code>canvas</code>-Elment nicht.
                                    </p>
                                </canvas>
                                <div id="paintCursor"></div>
                                
                            </div>
                            <form id="brushSettings">
                                <fieldset>
                                    <legend>Pinseleigenschaften</legend>
                                    <div class="iElContainer">
                                        <label for="brushSize">Pinselgröße</label>
                                        <input type="range" name="setBrushSize" id="brushSize" min="1" max="50" step="1" value="5">
                                        <input type="text" name="sizeDisp" id="sizeDisp" value="5 Px" disabled>
                                    </div>
                                    <div class="iElContainer">
                                        <label for="brushColor">Farbe</label>
                                        <input type="color" name="setBrushColor" id="brushColor">
                                    </div>
                                    <button type="button" id="resetBspl1g">Reset Canvas</button>
                                </fieldset>
                            </form>
                                                        
                        </div>
                        
                        <div class="infoBox">
                            <details>
                                <summary>
                                    Malen auf dem Canvas <br>
                                    Zur Realisation einer einfachen Paint-Applikation wird hier ein objektorientierter Ansatz gewählt.
                                </summary>
                                <p>Es wird ein Objekt mit dem namen <code>paintApp</code> deklariert. Dieses Objekt weist die folgenden Properties auf:</p>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Property</th>
                                            <th>Erleuterung</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>brushSettings</code></td>
                                            <td>Referenz auf den Container welche die Eingabeelemente f. Pinselgröße und Pinselfarbe beinhaltet.</td>
                                        </tr>
                                        <tr>
                                            <td><code>displayBrushSize</code></td>
                                            <td>Referenz auf das Anzeige-Element, welches die eingestellte Pinselgröße als nummerischen Wert anzeigt.</td>
                                        </tr>
                                        <tr>
                                            <td><code>paintCanvas</code></td>
                                            <td>Referenz auf das Canvas-Element, also die Zeichenfläche f. d. Paint-Applikation.</td>
                                        </tr>
                                        <tr>
                                            <td><code>currentCWidth</code> und <code>currentCHeight</code></td>
                                            <td>Properties in denen die aktuelle Breite und Höhe der Zeichenfläche gespeichert wird.</td>
                                        </tr>
                                        <tr>
                                            <td><code>xPos</code> und <code>yPose</code></td>
                                            <td>Properties enthalten die jeweils aktuellen x- und y-Koordinaten der Startposition einer Linie</td>
                                        </tr>
                                        <tr>
                                            <td><code>ctx</code></td>
                                            <td>Referenz auf den CanvasRenderingContext2D</td>
                                        </tr>
                                        <tr>
                                            <td><code>brush{}</code></td>
                                            <td>Dieses Objekt beinhaltet die aktuell eingesetellten Werte f. die Pinselgröße und -farbe.</td>
                                        </tr>
                                        <tr>
                                            <td><code>scaleFactors{}</code></td>
                                            <td>In den Properties dieses Objektes werden die jeweils gültigen Skallierungsfaktoren hinterlegt. Diese sind im Rahmen des responsiven Verhaltens des Canvas entscheidend.</td>
                                        </tr>
                                        <tr>
                                            <td><code>isPainting</code></td>
                                            <td>Eine Property vom Typ Boolean. Der Wert wird <code>true</code> oder <code>false</code> in Abhängigkeit davon, ob gerade auf den Canvas gezeichnet wird.
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><code>transformations</code></td>
                                            <td>Ein Array in dem Objekte vom Typ <code>Transformation</code> gespeichert werden. Diese sind essentiell zur verlustfreien Skallierbarkeit der gezeichneten Inhalte des Canvas.</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <p>Darüber hinaus verfügt <code>paintApp</code> über die folgenden Methoden.</p>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Methode</th>
                                            <th>Beschreibung</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>updateTrasformation()</code></td>
                                            <td>Aktualisiert die Werte der Properties von <code>Transformation</code>-Objekten im welche im Array <code>transformations</code> gespeichert sind.</td>
                                        </tr>
                                        <tr>
                                            <td><code>setBrushSize()</code></td>
                                            <td>Die Methode erhält als Parameter einen Wert mit dem einerseits die <code>brushSize</code>-Property des <code>brush</code>-Objektes manipuliert und andererseits das <code>value</code>-Attribut der Property <code>displayBrushSize</code></td>
                                        </tr>
                                        <tr>
                                            <td><code>setBrushColor()</code></td>
                                            <td>Die Methode erhält als Parameter einen Wert mit dem die <code>brushColor</code>-Property des <code>brush</code>-Objektes entsprechend der Usereingabe angepasst wird.</td>
                                        </tr>
                                        <tr>
                                            <td><code>setIsPainting()</code></td>
                                            <td>Im Körper dieser Methode wird ein neuer Pfad begonnen und geendet. Hierfür wird die Property (<code>ctx</code>) welche den CanvasRenderingContext2D referenziert verwendet. <br>
                                            Außerdem wird der Wert der <code>isPainting</code>-Property jeweils invertiert. <i>(getoggelt)</i></td>
                                        </tr>
                                        <tr>
                                            <td><code>initPaintApp()</code></td>
                                            <td>Diese Methode wird beim laden der Seite automatisch aufgerufen und initialisiert die Attribute <code>width</code> und <code>height</code> der Property <code>paintCanvas</code>, sowie die Property <code>ctx</code>. <br>
                                            Ebenso werden durch den Aufruf vom <code>setCurrentDimensions()</code> die Properties <code>currentCWidth</code> und <code>currentCHeight</code> mit den selben Werten initialisiert.</td>
                                        </tr>
                                        <tr>
                                            <td><code>resizeCanvas()</code></td>
                                            <td>Mit dieser Methode wird das responsive Verhalten des Canvas gesteuert. In diesem Zusammenahng wird auch auf die Methode <code>getScaledContent()</code> zurückgegriffen. Detailierte Erleuterungen hierzu finden Sie in einem separaten Absatz.
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><code>setCurrentDimensions()</code></td>
                                            <td>Diese Methode verlangt als Parameter ein Objekt (<code>dimensions</code>) welchches zwei Properties beinhaltet, welche die Werte f. Breite und Höhe des Canvas repräsentieren. Mit diesen Werten werden die Properties <code>currentCWidth</code> und <code>currentCHeight</code> modifiziert.</td>
                                        </tr>
                                        <tr>
                                            <td><code>setBrushPosition()</code></td>
                                            <td>Auch diese Methode verlangt ein Objekt (<code>pos</code>) welches zwei Properties beinhaltet. Die Werte dieser Properties repräsentieren die x- und y-Koordinaten f. einen Linienanfang auf dem Canvas.</td>
                                        </tr>
                                        <tr>
                                            <td><code>drawOn()</code></td>
                                            <td>
                                                <p>Diese Methode zeichnet Pfade in der Form einzelner Linien auf den Canvas. Der Methode wird als Parameter das auslösende Event-Objekt <code>e</code> übergeben.</p>
                                                <ol>
                                                    <li>Es wird geprüft ob der Wert von <code>isPainting</code> gleich <code>true</code> ist. Nur wenn das der Fall ist werden die folgenden Anweisungen ausgeführt.</li>
                                                    <li>Die Property <code>strokeStyle</code> des CanvasRenderingContext2D (<code>ctx</code>) erhält den Wert von <code>brush.brushColor</code>.</li>
                                                    <li>Die Linienstärke wird auf den Wert von <code>brush.brushSize</code> gesetzt.</li>
                                                    <li>Die Property <code>lineCap</code> erhält den Wert <code>'round'</code>. (Wichtig bei großen Pinselgrößen)</li>
                                                    <li>Der Beginn der Linie wird durch die Properties <code>xPos</code> und <code>yPos</code> definiert.</li>
                                                    <li>Zeichne eine Linie. Die Endkoordinaten dieser Linie liefern die Properties <code>offsetX</code> und <code>offsetY</code> des Event-Objekts <code>e</code>.</li>
                                                    <li>Mit <code>stroke()</code> wird die Linie auf den Canvas gezeichnet.</li>
                                                    <li>Es wird ein <code>Transformation</code>-Objekt unter Verwendung des Konstruktors der entsprechenden Klasse erzeugt und über die Konstante <code>savedTrans</code> referenziert.</li>
                                                    <li>Mit der Methode <code>push()</code> wird das zuvor erstellte Objekt dem Array <code>transformations</code> hinzugefügt.</li>
                                                    <li>Durch Aufruf der Methode <code>setBrushPosition()</code> werden die Endkoordinaten dier Linie zu den Startkoordianten der folgenden.</li>
                                                </ol>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><code>clearCanvas()</code></td>
                                            <td>Mit Hilfe der Methode <code>clearRect()</code> des CanvasRenderingContext2D unter Verwendung der aktuellen Breite und Höhe des Canvas wird die Zeichenfläche vollständig gelöscht.</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <h4>Die Methoden <code>resizeCanvas()</code> und <code>getScaledContent()</code></h4>
                                <p>
                                    Das Canvas-Element der paintApp soll zur Laufzeit ein responsives Verhalten aufweisen. Das bedeutet, dass sich die Dimensionen der Zeichenfläche, bei Veränderungen des Viewport automatisch anpassen. <br>
                                    Eine Skallierung des Canvas hat jedoch zur Folge, dass die (vom User) gezeichneten Inhalte gelöscht werden. Um das zu verhindern müssen diese Inhalte vor der Skallierung gesichert und nach im Anschluss, ebenfalls skalliert wiederhergestellt werden. Die Skallierung der gesicherten Inhalte wird von der Methode <code>getScaledContent()</code> realisiert.
                                </p>
                                <h5>Die Methode <code>resizeCanvas()</code> im Detail:</h5>                                
                                <ol>
                                    <li>Die aktuellen Inhalte des Canvas werden durch Verwendung der Methode <code>getImageData()</code> des CanvasRenderingContext2D in der Konstanten <code>currentImgData</code> gesichert.</li>
                                    <li>Breite und Höhe des Canvas werden in Abhängigkeit von der Viewportbreite, bzw. gemäß eines 3:2-Seitenverhältnis definiert.</li>
                                    <li>Ermittlung der Skallierungsfaktoren für die x- und y-Achse. <br>
                                    Die neuen Dimensionen des Canvas werden ins Verhältnis zu den zuvor gesicherten (vorherigen) Dimensionen gesetzt. Die Werte werden in der Property <code>scaleFactors</code> gesichert.</li>
                                    <li>Aufruf der Methode <code>getScaledContent()</code> <br> Die Methode erhält als Parameter <code>currentImgData</code> und die zuvor ermittelten <code>scaleFactors</code>. Die skallierten Inhalte werden in der Konstanten <code>scaledData</code> gesichert.</li>
                                    <li>Ausgabe der skallierten Inhalte auf den skallierten Canvas mit der Methode <code>putImageData()</code> des CanvasRenderingContext2D</Canvas>.</li>
                                    <li>Abschließend wirden die Werte der Properties <code>currentCWidth</code> und <code>currentCHeight</code> aktualisiert.</li>
                                </ol>
                                <h5>Die Methode <code>getScaledContent()</code> im Detail:</h5>
                                <p>
                                    Die Methode erhält als Parameter ein Array <code>transformations</code> in dem alle durchgefürten Zeichenoperatonen in Form von <code>Transformation</code>-Objekten gespeichert sind, sowie die <code>scaleFactors</code>.
                                    <p>Der Schleifenkörper wird gemäß der Anzahl von Objekten im Array oft wiederholt.</p>
                                    <ol>
                                        <li>Das aktuelle Transformations-Objekt wird der Konstanten <code>Transformation</code> zugewiesen.</li>
                                        <li>Es wird ein Wert für die skallierte Pinselgröße berechnet. Hierfür wird ein Mittelwert aus den Skallierungsfaktoren der x- und y-Achse gebildet und dieser mit der aktuellen Pinselgröße multipliziert.</li>
                                        <li>Die jeweiligen Werte der Koordinatenpaare f. Start- und Endpunkte werden ebenfalls skalliert und in entsprechenden Konstanten gesichert.</li>
                                        <li>Mit den neuen Werten werden die Pfade auf den skallierten Canvas gezeichnet.</li>
                                        <li>Abschließende werden das im Array <code>transformations</code> gesicherte <code>Transformation</code>-Objekt mit den neue berechneten Werten aktualisiert.</li>
                                    </ol>
                                </p>
                                <h4>Die Klasse <code>Transformation</code></h4>
                                <!-- todo: Erleuterungen hinzufügen -->
                            </details>
                        </div>

                    </article>

                </section>
    
            </main>

            <footer id="pageFooter"></footer>
        </div>

<!--                                                           Scripts -->
        <script src="src/js/main.js"></script>
    </body>

</html>
